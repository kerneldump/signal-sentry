Phase Verification Report: Phase 2: Logic Migration and Refactoring
Automated Tests: CI=true go test -v ./internal/gateway/... (Passed, 82.6% coverage)
Manual Verification: User confirmed the plan to check client functionality and backoff timing.
User Confirmation: ok, looks good
